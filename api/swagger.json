{"openapi":"3.0.0","info":{"title":"EasyAppz API","version":"1.0.0","description":"API documentation for EasyAppz"},"servers":[{"url":"http://localhost:3000/api"}],"paths":{"/applicationZs/{id}":{"get":{"summary":"Получение приложения по ID","description":"Возвращает приложение по указанному ID.","tags":["ApplicationZ"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Идентификатор приложения"}],"responses":{"200":{"description":"Приложение успешно получено","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IMongoModelApplicationZ"}}}},"404":{"description":"Приложение не найдено","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"No application found by, {id}"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}}},"/applicationZs":{"get":{"summary":"Получение списка приложений для пользователя","description":"Возвращает список всех приложений, принадлежащих аутентифицированному пользователю (req.user).","tags":["ApplicationZ"],"responses":{"200":{"description":"Список приложений успешно получен","content":{"application/json":{"schema":{"type":"object","properties":{"applications":{"type":"array","items":{"$ref":"#/components/schemas/IMongoModelApplicationZ"}}}}}}},"401":{"description":"Пользователь не авторизован","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","example":true},"message":{"type":"string","example":"Unauthorized"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","example":true},"message":{"type":"string","example":"Internal server error"}}}}}}}},"post":{"summary":"Создание нового приложения","description":"Создает новое приложение с указанными параметрами.","tags":["ApplicationZ"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Название приложения","example":"My Application"},"description":{"type":"string","description":"Описание приложения","example":"This is a description of my application."},"template":{"type":"string","description":"Шаблон приложения","example":"html-vanilla"},"service":{"type":"string","description":"Сервис приложения","example":"gpt-4o-mini-chat"}}}}}},"responses":{"201":{"description":"Приложение успешно создано","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IMongoModelApplicationZ"}}}},"400":{"description":"Неверные параметры запроса","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean"},"message":{"type":"string","example":"Такой модели ИИ не существует"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean"},"message":{"type":"string","example":"Doesnt create createdApplicationZ"}}}}}}}}},"/applicationZs/{applicationzId}/messages":{"get":{"summary":"Получение сообщений для приложения","description":"Возвращает список сообщений для указанного приложения.","tags":["Messages"],"parameters":[{"in":"path","name":"applicationzId","schema":{"type":"string"},"required":true,"description":"Идентификатор приложения"}],"responses":{"200":{"description":"Список сообщений успешно получен","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IMongoModelMessage"}}}}},"404":{"description":"Такого приложения не найдено.","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean"},"message":{"type":"string","description":"Сообщение об ошибке","example":"Такого приложения не найдено."}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean"},"message":{"type":"string","description":"Сообщение об ошибке","example":"Неверные параметры запроса"}}}}}}}},"post":{"summary":"Создание сообщения для приложения","description":"Создает новое сообщение для указанного приложения.","tags":["Messages"],"parameters":[{"in":"path","name":"applicationzId","schema":{"type":"string"},"required":true,"description":"Идентификатор приложения"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"Содержимое сообщения","example":"This is a message content."}}}}}},"responses":{"200":{"description":"Сообщение успешно создано","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":false},"message":{"type":"string","description":"Сообщение о статусе","example":"Приложение в процессе создания."}}}}}},"400":{"description":"Неверные параметры запроса","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Такой модели ИИ не существует"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Ошибка сервера"}}}}}}}}},"/config":{"get":{"summary":"Получение конфигурации","description":"Возвращает возможные варианты templates и services.","tags":["Config"],"responses":{"200":{"description":"Конфигурация успешно получена","content":{"application/json":{"schema":{"type":"object","properties":{"templates":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Идентификатор шаблона","example":"html-vanilla"},"description":{"type":"string","description":"Описание шаблона","example":"HTML Vanilla Template"}}}},"services":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Идентификатор сервиса","example":"gpt-4o-mini-chat"},"description":{"type":"string","description":"Описание сервиса","example":"GPT-4 Mini Chat Service"}}}}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}}},"/user":{"get":{"summary":"Получение данных пользователя","description":"Возвращает данные аутентифицированного пользователя.","tags":["User"],"responses":{"200":{"description":"Данные пользователя успешно получены","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","description":"Идентификатор пользователя","example":"603dcd3e2f1b2c001c8e4e1a"},"email":{"type":"string","description":"Email пользователя","example":"user@example.com"},"name":{"type":"string","description":"Имя пользователя","example":"User Name"},"code":{"type":"string","description":"Код пользователя","example":"123456"}}}}}},"401":{"description":"Пользователь не авторизован","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Unauthorized"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}},"post":{"summary":"Создание нового пользователя","description":"Создает нового пользователя с указанным email.","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя","example":"user@example.com"}}}}}},"responses":{"201":{"description":"Пользователь успешно создан","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":false},"message":{"type":"string","description":"Сообщение о статусе","example":"User created successfully"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}}},"/user/login":{"post":{"summary":"Вход пользователя","description":"Вход пользователя с указанным email и кодом.","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя","example":"user@example.com"},"code":{"type":"string","description":"Код пользователя","example":"123456"}}}}}},"responses":{"200":{"description":"Вход успешен","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":false},"message":{"type":"string","description":"Сообщение о статусе","example":"Login successful"}}}}}},"401":{"description":"Неверный email или код","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Invalid email or code"}}}}}},"500":{"description":"Ошибка сервера","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}}},"/promts/analyze":{"post":{"summary":"Анализ сообщения","tags":["Promts"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение для анализа","example":"Пример сообщения"}}}}}},"responses":{"200":{"description":"Анализ выполнен успешно","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Имя, назначенное на основе анализа","example":"Prompt Name"},"description":{"type":"string","description":"Описание, сформированное на основе сообщения","example":"Prompt description based on message"},"template":{"type":"string","description":"Выбранный шаблон","example":"html-vanilla"},"service":{"type":"string","description":"Выбранный сервис","example":"gpt-4o-mini-chat"}}}}}},"500":{"description":"Ошибка сервера при анализе","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"boolean","description":"Статус ошибки","example":true},"message":{"type":"string","description":"Сообщение об ошибке","example":"Internal server error"}}}}}}}}}},"components":{"schemas":{"IMongoModelMessage":{"type":"object","properties":{"_id":{"type":"string","description":"Идентификатор сообщения","example":"603dcd3e2f1b2c001c8e4e1a"},"applicationz":{"type":"string","description":"Идентификатор приложения","example":"603dcd3e2f1b2c001c8e4e1a"},"content":{"type":"string","description":"Содержимое сообщения","example":"This is a message content."},"role":{"type":"string","enum":["user","assistant"],"description":"Роль отправителя сообщения","example":"user"},"status":{"type":"string","enum":["created","completed","processing","error"],"description":"Статус сообщения","example":"created"},"chatgptId":{"type":"string","description":"Идентификатор потока ChatGPT","example":"thread-id"},"previewContent":{"type":"string","description":"Предварительное содержимое сообщения","example":"This is a preview content."}}},"IMongoModelApplicationZ":{"type":"object","properties":{"_id":{"type":"string","description":"Идентификатор приложения","example":"603dcd3e2f1b2c001c8e4e1a"},"name":{"type":"string","description":"Название приложения","example":"My Application"},"description":{"type":"string","description":"Описание приложения","example":"This is a description of my application."},"dir":{"type":"string","description":"Директория приложения","example":"/path/to/application"},"template":{"type":"string","description":"Шаблон приложения","example":"html-vanilla"},"pending":{"type":"boolean","description":"Статус ожидания","example":true},"pendingPercent":{"type":"number","description":"Процент выполнения","example":50},"error":{"type":"boolean","description":"Статус ошибки","example":false},"service":{"type":"string","description":"Сервис приложения","example":"gpt-4o-mini-chat"},"chatgptThreadId":{"type":"string","description":"Идентификатор потока ChatGPT","example":"thread-id"},"chatgptThreadExpiredTime":{"type":"string","format":"date-time","description":"Время истечения потока ChatGPT","example":"2025-02-26T12:00:00Z"},"errorText":{"type":"string","description":"Текст ошибки","example":"Ошибка создания приложения"}}}}},"tags":[]}